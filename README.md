# DimonSmart.AiUtils

DimonSmart.AiUtils is a library designed to extract JSON strings from responses generated by Large Language Models (LLMs). It ensures accurate extraction even when the LLM response contains additional text, including explanations or phrases such as "Here is your JSON."

## Background

LLMs often produce additional text alongside the requested JSON data. This can include explanations, clarifications, or contextual information that may interfere with JSON parsing. DimonSmart.AiUtils addresses this issue by extracting only the valid JSON strings from the response, allowing for seamless integration with JSON parsers.

## Features

- **ExtractJson**: Returns the largest valid JSON object or array as a string from the provided text.
- **ExtractAllJsons**: Returns all valid JSON objects or arrays as strings from the text.
- **ExtractJson (overload)**: Returns a single JSON fragment as a string, starting from a specific index in the text.

## API Overview

### ExtractJson(string? text)

Extracts and returns the largest valid JSON object or array as a string from the input text.


```csharp
string json = JsonExtractor.ExtractJson(responseText);
```

### ExtractAllJsons(string? text)
Extracts all valid JSON objects or arrays from the input text.

```csharp
var jsons = JsonExtractor.ExtractAllJsons(responseText);
```

### ExtractJson(int start, string? text)
Extracts a single valid JSON fragment starting from the specified index in the text.

```csharp
string json = JsonExtractor.ExtractJson(0, responseText);
```

## Installation

Install via NuGet:

```bash
dotnet add package DimonSmart.AiUtils
```


## Use Cases

- Preprocess LLM responses to extract structured JSON data.
- Handle mixed LLM responses that include additional text explanations or metadata.
- Extract multiple JSON fragments from a single response.
- Clean up LLM outputs to obtain pure JSON strings for parsing.

## License

This library is licensed under the [0BSD License](LICENSE).
